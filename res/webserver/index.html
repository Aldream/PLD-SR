<html>
<head>
	<title>Serveur</title>
	<script src="http://code.jquery.com/jquery-1.7.1.js"></script>
</head>

<body>
	<h1>Hello, html5 world !</h1>
	<input id="captorsButton" type="button" value="Captors from 1 to 10" /><br/>
	<input id="allCaptorsButton" type="button" value="All captors" /><br/>

	<div id="captorsValues">
		No captor value has been read.
	</div>

	<script>

	function getAll() {
		$("#captorsValues").html("");
		$.get('/captors', 
		// {"ids":[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]},
		function(data) {
			for (var i in data) {
				$("#captorsValues").append("<p>Capteur " + data[i].id + " : " + data[i].value + "</p>");
			}
		},
	       	"json");
	}

	function getRange(range) {
		$("#captorsValues").html("");
		$.get('/captors', 
		{"ids":range},
		function(data) {
			for (var i in data) {
				$("#captorsValues").append("<p>Capteur " + data[i].id + " : " + data[i].value + "</p>");
			}
		},
	       	"json");
	}

	$("#captorsButton").click(function() {
		getRange([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
	});

	$("#allCaptorsButton").click(getAll);
	</script>
</body>

</html>
