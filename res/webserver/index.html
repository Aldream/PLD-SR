<html>
<head>
	<title>Serveur</title>
	<script src="http://code.jquery.com/jquery-1.7.1.js"></script>
</head>

<body>
	<h1>Hello, html5 world !</h1>
	<input id="captorsButton" type="button" value="Captor value" /><br/>

	<div id="captorsValues">
		No captor value has been read.
	</div>

	<script>

	function refreshAll() {
		$("#captorsValues").html("");
		for (var i = 0; i < 10; ++i) {
			$.get('/captors/' + i, function(data) {
				$("#captorsValues").append("<p>Capteur " + data.id + " : " + data.value + "</p>");
			}, "json");
		}
	}

	$("#captorsButton").click(refreshAll);

	setInterval("refreshAll()", 2000); // refreshes the page every 2 seconds
	</script>
</body>

</html>
